<div th:fragment="info-user" class="flex-1 space-y-6">
    <div>
        <label class="block text-gray-700 font-medium mb-1">
            Họ và tên
            <span class="text-red-500">*</span>
        </label>
        <input type="text" placeholder="Nhập họ và tên" required
               th:field="*{fullname}"
               class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"/>
    </div>
    <div>
        <label class="block text-gray-700 font-medium mb-1">
            Số điện thoại
            <span class="text-red-500">*</span>
        </label>
        <input type="tel" placeholder="Nhập số điện thoại (ví dụ: +84901234567)" required
               pattern="^\+?\d{9,15}$"
               th:field="*{phonenumber}"
               class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"/>
    </div>
    <div>
        <label class="block text-gray-700 font-medium mb-1">
            Mật khẩu
            <span class="text-red-500">*</span>
        </label>
        <input type="password" placeholder="Nhập mật khẩu" required minlength="6"
               th:field="*{password}"
               class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"/>
    </div>
    <div>
        <label class="block text-gray-700 font-medium mb-1">
            Email
            <span class="text-red-500">*</span>
        </label>
        <label>
            <input type="email" placeholder="Nhập email (bắt buộc)"
                   th:field="*{email}"
                   class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"/>
        </label>
    </div>
    <div>
        <span class="block text-gray-700 font-medium mb-1">Giới tính</span>
        <div class="flex gap-6">
            <label>
                <input type="radio" th:field="*{gender}" value="MALE"/> Nam
            </label>
            <label>
                <input type="radio" th:field="*{gender}" value="FEMALE"/> Nữ
            </label>
            <label>
                <input type="radio" th:field="*{gender}" value="OTHER"/> Khác
            </label>
        </div>
    </div>
    <div>
        <label class="block text-gray-700 font-medium mb-1" for="role_id">
            Vai trò
            <span class="text-red-500">*</span>
        </label>
        <select th:field="*{role.id}" required
                class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                id="role_id">
            <option disabled selected value="">Chọn vai trò</option>
            <option th:each="role : ${roles}"
                    th:value="${role.id}"
                    th:text="${#strings.equals(role.name, 'DOCTOR') ? 'Bác sĩ' :
                      #strings.equals(role.name, 'PATIENT') ? 'Bệnh nhân' :
                      #strings.equals(role.name, 'ADMIN') ? 'Quản trị viên' :
                      #strings.equals(role.name, 'RECEPTIONIST') ? 'Nhân viên tiếp nhận' : role.name}">
            </option>
        </select>

    </div>
    <div>
        <label class="block text-gray-700 font-medium mb-1" for="status">
            Trạng thái
            <span class="text-red-500">*</span>
        </label>
        <select class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                id="status" name="status" required="">
            <option selected="" value="Hoạt động">
                Hoạt động
            </option>
            <option value="Khóa tài khoản">
                Khóa tài khoản
            </option>
        </select>
    </div>
</div>

<div th:fragment="info-doctor" class="hidden space-y-5" id="doctor-details" th:object="${doctor}">

    <!-- Ảnh đại diện -->
    <div class="mx-auto ">
        <label class="block text-gray-700 font-medium mb-1 text-center" for="avatarFile">Ảnh đại diện</label>
        <input th:field="*{avatarFile}"
               type="file" accept="image/*"
               id="avatarFile" class="w-full text-gray-700"/>

        <div class="mt-3">
            <img th:src="${doctor.avtPath != null ? doctor.avtPath : 'https://via.placeholder.com/400x300'}"
                 alt="Ảnh đại diện bác sĩ xem trước"
                 class="mx-auto rounded-md border border-gray-300 max-h-48 object-contain"
                 height="300" width="400" id="previewDoctor"/>
        </div>
    </div>
    <!-- Bằng cấp -->
    <div>
        <label class="block text-gray-700 font-medium mb-1" for="degree">Bằng cấp</label>
        <input th:field="*{degree}"
               class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
               id="degree" placeholder="Nhập bằng cấp" type="text"/>
    </div>

    <!-- Tiểu sử -->
    <div>
        <label class="block text-gray-700 font-medium mb-1" for="bio">Tiểu sử</label>
        <textarea th:field="*{bio}"
                  class="w-full border border-gray-300 rounded-md px-4 py-2 resize-y focus:outline-none focus:ring-2 focus:ring-blue-500"
                  id="bio" placeholder="Nhập tiểu sử" rows="4"></textarea>
    </div>

    <!-- Khoa -->
    <div>
        <label class="block text-gray-700 font-medium mb-1" for="department">Khoa</label>
        <select th:field="*{department}" id="department"
                class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="" disabled selected>Chọn khoa</option>
            <option th:each="dep : ${departments}"
                    th:value="${dep}" th:text="${dep.name}">
            </option>
        </select>
    </div>

</div>

<div th:fragment="info-patient" class="hidden space-y-5" id="patient-details" th:object="${patient}">

    <!-- Ngày sinh -->
    <div>
        <label class="block text-gray-700 font-medium mb-1" >
            Ngày sinh
        </label>
        <input type="date"
               th:field="*{dateOfBirth}"
               class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"/>
    </div>

    <!-- Địa chỉ -->
    <div>
        <label class="block text-gray-700 font-medium mb-1" >
            Địa chỉ
        </label>
        <textarea th:field="*{address}"
                  rows="3"
                  placeholder="Nhập địa chỉ"
                  class="w-full border border-gray-300 rounded-md px-4 py-2 resize-y focus:outline-none focus:ring-2 focus:ring-blue-500">
      </textarea>
    </div>

    <!-- Ảnh đại diện -->
    <div>
        <label class="block text-gray-700 font-medium mb-1" for="avatarFile">
            Ảnh đại diện
        </label>
        <input type="file"
               accept="image/*"
               th:field="*{avatarFile}"
               class="w-full text-gray-700"/>
        <div class="mt-3">
            <img th:src="@{${patient.avtPath}}"
                 alt="Ảnh đại diện bệnh nhân xem trước"
                 class="mx-auto rounded-md border border-gray-300 max-h-48 object-contain"
                 width="400" height="300"/>
        </div>
    </div>

</div>


<div th:fragment="info-other" class="hidden text-center text-gray-500 mt-10" id="other-details">
    <p>
        Không có thông tin chi tiết cho vai trò này.
    </p>
    <img alt="Hình ảnh"
         class="mx-auto mt-4 rounded-md border border-gray-300 max-h-48 object-contain" height="300"
         src="https://storage.googleapis.com/a1aa/image/a66e154b-c82f-441c-3170-e786634c7fb1.jpg"
         width="400"/>
</div>