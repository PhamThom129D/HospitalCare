<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <title>Login Form</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&amp;display=swap" rel="stylesheet"/>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        body {
            font-family: "Roboto", sans-serif;
        }
    </style>
</head>
<body class="bg-[#e6f0f6] min-h-screen flex items-center justify-center p-4">
<div class="bg-[#d9e9f8] max-w-4xl w-full flex flex-col md:flex-row p-8 md:p-12">
    <div class="md:w-1/2 relative flex justify-center items-center border border-[#d9e9f8]">
        <img alt="Exterior view of a modern hospital building with clear blue sky"
             class="object-cover w-full h-full"
             height="500"
             src="https://storage.googleapis.com/a1aa/image/f625da54-0c5b-4945-ad3e-dfa294600676.jpg"
             width="400"/>
        <div class="absolute bottom-8 left-8 text-white text-[22px] italic font-semibold select-none"
             style="text-shadow: 0 0 5px rgba(0,0,0,0.5)">
            #Collection 2018
        </div>
    </div>

    <!-- FORM ĐĂNG NHẬP -->
    <form th:action="@{/authenticate/login}" th:object="${user}" method="post"
          aria-label="Login Form"
          class="md:w-1/2 flex flex-col justify-center px-6 md:px-12">
        <h2 class="text-black font-bold text-3xl mb-6 text-center text-center">
            ĐĂNG NHẬP
        </h2>

        <div class="relative mb-4">
            <input th:field="*{phonenumber}"
                   class="border border-black outline-none text-sm py-1 px-3 w-full pr-8 rounded"
                   placeholder="Số điện thoại" required type="tel"/>
            <i aria-hidden="true"
               class="fas fa-phone absolute right-2 top-1/2 -translate-y-1/2 text-black text-xs"></i>
        </div>

        <div class="relative mb-2">
            <input th:field="*{password}"
                   class="border border-black outline-none text-sm py-1 px-3 w-full pr-8 rounded"
                   placeholder="Mật khẩu" required type="password"/>
            <i aria-hidden="true"
               class="fas fa-lock absolute right-2 top-1/2 -translate-y-1/2 text-black text-xs"></i>
        </div>

        <div class="mb-4 text-right">
            <a class="text-sm text-blue-600 hover:underline cursor-pointer"
               th:href="@{/forgot-password}">Quên mật khẩu?</a>
        </div>

        <p th:text="${error}" class="text-red-600 mb-3"></p>

        <button class="bg-black text-white text-sm py-2 px-6 w-full flex items-center justify-center gap-2 rounded mb-4"
                type="submit">
            Đăng nhập
            <i class="fas fa-arrow-right"></i>
        </button>

        <button class="bg-white border border-black text-black text-sm py-2 px-6 w-full flex items-center justify-center gap-2 rounded mb-6"
                th:onclick="'window.location.href=\'/authenticate/otp\''" type="button">
        Đăng nhập bằng OTP
            <i class="fas fa-mobile-alt"></i>
        </button>
        <div class="text-center text-sm">
            <span>Chưa có tài khoản?</span>
            <a class="text-blue-600 font-semibold hover:underline cursor-pointer ml-1"
               th:href="@{/authenticate/register}">Đăng ký</a>
        </div>
    </form>
</div>
<script th:if="${messageLogin != null}" th:inline="javascript">
    Swal.fire({
        toast: true,
        position: 'top',
        icon: 'success',
        title: [[${messageLogin}]],
        showConfirmButton: false,
        timer: 1500,
        timerProgressBar: true,
        customClass: {
            popup: 'text-sm rounded-lg px-3 py-2'
        }
    });
</script>
</body>
</html>
